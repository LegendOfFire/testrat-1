
<i fa [name]="'plus'" (click)="toggleCreate()"></i>
<div [style.display]="createDisplay">
  <input [(ngModel)]="createEnbId" placeholder="eNodeB ID" style="width:100%"><br>
  <input [(ngModel)]="createOamIp" placeholder="OAM IP" style="width:100%">
  <button class="btn"
    (click)="create(createEnbId, createOamIp)">
    Create
  </button>
</div>

<input [(ngModel)]="query" placeholder="Search..." style="width:100%"><br>
<div>
  <div *ngFor="let node of queryNodes(query)"
    class="module"
    (click)="onSelect(node)">
    <div>
      <table width="100%">
        <tr>
          <td>
            <i fa [name]="'building'"></i>
          </td>
          <td colspan=2>
            {{node.enbId}}
            <span class="node-type">{{node.Type}}</span>
            <i fa [name]="'remove'" (click)="remove(node.enbId)"
              style="float:right"></i>
          </td>
        </tr>
        <tr>
          <td>
            <a href="http://147.128.86.46:4200/?{{node.oamIp}}" target="_blank">
              <i fa [name]="'tty'"></i>
            </a>
          </td>
          <td>
            {{node.oamIp}}
          </td>
        </tr>
        <tr *ngIf="node.cell.length > 0">
          <th colspan=2
            (click)="toggleCellVisible(node)">
            Cells:
          </th>
        </tr>
        <tr *ngFor="let cell of visibleCells(node)">
          <td>
            {{cell.id}}
          </td>
          <td>
            {{cell.admState}}
          </td>
          <td>
            {{cell.opState}}
          </td>
        </tr>

        <tr *ngIf="node.alarm.length > 0">
          <th colspan=2
            (click)="toggleAlarmVisible(node)">
            Alarms:
          </th>
        </tr>
        <tr *ngFor="let alarm of visibleAlarms(node)">
          <td>
            {{alarm.severity}}
          </td>
          <td>
            {{alarm.problem}}
          </td>
          <td>
            {{alarm.description}}
          </td>
        </tr>

        <tr *ngIf="node.board.length > 0">
          <th colspan=2
            (click)="toggleBoardVisible(node)">
            Boards:
          </th>
        </tr>
        <tr *ngFor="let board of visibleBoards(node)">
          <td>
            {{board.boardType}}
          </td>
          <td>
            {{board.serial}}
          </td>
          <td>
            {{board.date}}
          </td>
        </tr>
      </table>
    </div>
  </div>
</div>
